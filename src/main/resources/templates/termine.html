<!DOCTYPE html>
<html lang="en" th:replace="~{mopslayout :: html(name='Terminfindung', headcontent=~{:: headcontent},
                  navigation=~{:: navigation}, bodycontent=~{:: bodycontent})}"
	  xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="utf-8">
	<title>Termine</title>
	<th:block th:fragment="headcontent">
		<!-- Links, Skripts, Styles hier einfügen! -->
	</th:block>
</head>

<body>
	<header>
		<nav class="navigation navigation-secondary" is="mops-navigation" th:fragment="navigation">
            <!-- Navigation als ungeordnete Liste mit einfachen Links hier einfügen! -->
			<ul>
				<li><a th:href="@{/termine2}">         Termine</a></li>
				<li><a th:href="@{/termine2/umfragen}">Umfragen</a></li>
			</ul>
			<div align="center">
			</div>
		</nav>
	</header>
	
	<main th:fragment="bodycontent">
		
		<div class="container">
			<!-- Header mit Titel und Aktionen -->
			<div class="row d-flex justify-content-between align-items-center my-3 border-bottom">
				<h1 class="h1">Termine</h1>
				
				<div class="btn-toolbar" style="font-size: small">

					<select class="btn btn-outline-secondary dropdown-toggle mx-2" id="dropOperator">
						<option value="0">Alle Gruppen</option>
						<option th:each="gruppe : ${termine.gruppen}" th:text="${gruppe}"
								th:value="${gruppe}"></option>
					</select>

					<a th:href="@{/termine2/termine-neu}">
						<button class="btn btn-primary">Neuer Termin</button>
					</a>
				</div>
			</div>
			
			<!-- Listen -->
			<div class="row">
				<!-- Linke Liste: Anstehende Termine -->
				<div class="col-md-8 order-md-1">
					<h2 class="h2">Anstehend</h2>
					
					<!-- Termine sollten in aufsteigender Reihenfolge sortiert sein. -->
					<div th:each="termin : ${termine.getTeilgenommen()}">
						<div class="my-3 p-3 bg-light rounded">
							<!-- Zusammenfassung -->
							<div class="pb-2 border-bottom">
								<div class="d-flex justify-content-between align-items-center">
									<h3 class="h3" th:text="${termin.titel}">Titel des Termins</h3>
									<div th:text="'am ' + ${#temporals.format(termin.ergebnis, 'dd.MM.yyyy, HH:mm')}">DD.MM.YYYY,
										HH:MM
									</div>
								</div>
							</div>
							
							<!-- Beschreibung -->
							<div class="mt-2 border-bottom" style="font-size: small">
								<p th:text="${#strings.abbreviate(termin.beschreibung,300)}">
									Authors often misinterpret the fibre as a tacky museum, when in
									actuality it feels more like a moreish rate. We can assume that
									any instance of a bestseller can be construed as a chuffy
									bucket. </p>
							</div>
							
							<!-- Weitere Aktionen -->
							<div class="mt-3" style="text-align: center">
								<!-- leitet an die Ergebnisse der Abstimmung weiter -->
								<!-- <a th:href="@{………}"> -->
								<button class="btn btn-outline-info" style="font-size: small">
									Details
								</button>
								<!-- </a> -->
							</div>
						</div>
						
						<!--<div style="font-size: xx-large; text-align: center">…</div>-->
					</div>
				</div>
				
				<!-- Rechte Liste: Offene Abstimmungen -->
				<div class="col-md-4 order-md-2">
					<h2 class="h2">Offen</h2>
					
					<!-- Termine sollten aufsteigend nach ihrer Frist sortiert sein. -->
					<div th:each="termin : ${termine.getOffen()}">
						<div class="my-3 p-3 bg-light rounded">
							<!-- Zusammenfassung -->
							<div class="pb-2 border-bottom">
								<h3 class="h3" th:text="${termin.titel}">ATMs</h3>
							</div>
							
							<!-- Beschreibung -->
							<div class="mt-2 border-bottom" style="font-size: small">
								<p th:text="${#strings.abbreviate(termin.beschreibung,135)}"> An ATM is a crib from the
									right perspective. </p>
							</div>
							
							<!-- Weitere Aktionen -->
							<div class="mt-2">
								<div class="text-secondary" style="font-size: small; text-align: center"
									 th:text="'offen bis ' + ${#temporals.format(termin.frist, 'dd.MM.yyyy, HH:mm')}">
									DD.MM.YYYY, HH:MM
								</div>
								
								<div class="mt-2" style="text-align: center">
									<!-- falls der Nutzer schon an der Abstimmung teilgenommen hat -->
									<button class="btn btn-outline-info" style="font-size: small">
										Details
									</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</main>
</body>
</html>

