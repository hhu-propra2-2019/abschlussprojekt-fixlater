<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{mopslayout :: html(name='Terminfindung', headcontent=~{:: headcontent},
                  navigation=~{:: navigation}, bodycontent=~{:: bodycontent})}">
<head>
	<meta charset="utf-8">
	<title>Umfragen</title>
	<th:block th:fragment="headcontent">
		<!-- Links, Skripts, Styles hier einfügen! -->
	</th:block>
</head>

<body>
	<header>
		<nav class="navigation navigation-secondary" is="mops-navigation" th:fragment="navigation">
			<!-- Navigation als ungeordnete Liste mit einfachen Links hier einfügen! -->
			<ul>
				<li><a th:href="@{/termine2}">         Termine</a></li>
				<li><a th:href="@{/termine2/umfragen}">Umfragen</a></li>
			</ul>
			<div align="center">
			</div>
		</nav>
	</header>
	
	<main th:fragment="bodycontent">
		
		<div class="container">
			<!-- Header mit Titel und Aktionen -->
			<div class="row d-flex justify-content-between align-items-center my-3 border-bottom">
				<h1 class="h1">Umfragen</h1>
				
				<div class="btn-toolbar" style="font-size: small">
				
					<select class="btn btn-outline-secondary dropdown-toggle mx-2" id="dropOperator">
						<option value="0">Alle Gruppen</option>
						<option th:each="gruppe : ${umfragen.gruppen}" th:text="${gruppe}"
								th:value="${gruppe}"></option>
					</select>

					<a th:href="@{/termine2/umfragen-neu}">
						<button class="btn btn-primary">Neue Umfrage</button>
					</a>
				</div>
			</div>
			
			<!-- Listen -->
			<div class="row">
				<!-- Linke Liste: Umfrageergebnisse -->
				<div class="col-md-8 order-md-1">
					<h2 class="h2">Ergebnisse</h2>
					
					<!-- Die neusten Abstimmungen sollten oben eingefügt werden. -->
					<div th:each="umfrage : ${umfragen.getTeilgenommen()}">
						<div class="my-3 p-3 bg-light rounded">
							<!-- Zusammenfassung -->
							<div class="pb-2 border-bottom">
								<div class="d-flex justify-content-between align-items-center">
									<h3 class="h3" th:text="${umfrage.titel}">Titel der Umfrage?</h3>
									<div th:text="'bis ' + ${#temporals.format(umfrage.frist, 'dd.MM.yyyy, HH:mm')}"></div>
								</div>

								<div class="mt-2 text-success">
									<p th:text="${#strings.abbreviate(umfrage.beschreibung,300)}">Beschreibung</p>
								</div>
							</div>

							<!-- Ergebnis -->
							<div class="mt-2 border-bottom" style="font-size: small">
								<p th:text="${#strings.abbreviate(umfrage.umfragenErgebnis,300)}">
							</div>
							
							<!-- Weitere Aktionen -->
							<div class="mt-3" style="text-align: center">
								<!-- leitet an die Ergebnisse der Umfrage weiter -->
								<!-- <a th:href="@{………}"> -->
									<button class="btn btn-outline-info" style="font-size: small">
										Details
									</button>
								<!-- </a> -->
							</div>
						</div>
					</div>
				</div>
				
				<!-- Rechte Liste: Offene Umfragen -->
				<div class="col-md-4 order-md-2">
					<h2 class="h2">Offen</h2>
					
					<!-- Umfragen sollten aufsteigend nach ihrer Frist sortiert sein. -->
					<div> <!-- <div th:each="offeneUmfrage : ${offeneUmfragen}"> -->
						<div class="my-3 p-3 bg-light rounded">
							<!-- Zusammenfassung -->
							<div class="pb-2 border-bottom">
								<h3 class="h3">ATMs</h3>
								<div>from the right perspective</div>
							</div>
							
							<!-- Beschreibung -->
							<div class="mt-2 border-bottom" style="font-size: small">
								<p> An ATM is a crib from the right perspective. </p>
							</div>
							
							<!-- Weitere Aktionen -->
							<div class="mt-2">
								<div class="text-secondary"
								     style="font-size: small; text-align: center">
									offen bis DD.MM.YYYY, HH:MM
								</div>
								
								<div class="mt-2" style="text-align: center">
									<!-- falls der Nutzer schon an der Umfrage teilgenommen hat -->
									<button class="btn btn-outline-info" style="font-size: small">
										Details
									</button>
								</div>
							</div>
						</div>
						
						<div class="my-3 p-3 bg-light rounded">
							<div class="pb-2 border-bottom">
								<h3 class="h3">Prayerless Mayonnaise</h3>
								<div>at church</div>
							</div>
							
							<div class="mt-2 border-bottom" style="font-size: small">
								<p> Some posit the prayerless mayonnaise to be more than risky. </p>
							</div>
							
							<div class="mt-2 text-secondary"
							     style="font-size: small; text-align: center">
								offen bis DD.MM.YYYY, HH:MM
							</div>
							
							<div class="mt-2" style="text-align: center">
								<!-- falls der Nutzer noch an der Umfrage teilnehmen kann -->
								<button class="btn btn-primary" style="font-size: small">
									Abstimmen
								</button>
							</div>
						</div>
						
						<div style="font-size: xx-large; text-align: center">…</div>
					</div>
				</div>
			
			</div>
		</div>
		
	</main>
</body>
</html>

